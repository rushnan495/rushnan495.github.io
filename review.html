<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>EDU SPORTS IT | Reviews</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
body{
  background: linear-gradient(-45deg, #0f172a, #1e293b, #0ea5a4, #38bdf8);
  background-size: 400% 400%;
  animation: gradientMove 10s ease infinite;
  color: #fff;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding-bottom: 50px;
  overflow-x:hidden;
}
@keyframes gradientMove {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

nav{
  position:fixed;top:0;left:0;width:100%;
  background:rgba(15,23,42,0.95);
  display:flex;justify-content:space-between;align-items:center;
  padding:14px 20px;z-index:1000;
  backdrop-filter: blur(6px);
}
.logo {
  display: flex;
  align-items: center;
  font-weight: 700;
  font-size: 22px;
  color: #38bdf8;
  gap: 10px;
}
.logo img {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #38bdf8;
}
nav .logo{font-weight:700;font-size:22px;color:#38bdf8;}
nav .nav-links{display:flex;gap:20px;}
nav .nav-links a{color:#fff;text-decoration:none;font-weight:500;padding:8px 12px;border-radius:6px;transition:0.3s;}
nav .nav-links a:hover{background:#38bdf8;color:#0f172a;}
.menu-btn{display:none;color:#fff;font-size:30px;background:none;border:none;cursor:pointer;}

@media (max-width:900px){
  .menu-btn{display:block;}
  .nav-links{
    display:flex;
    flex-direction:column;
    position:fixed;
    top:60px;
    right:-220px; /* hidden initially */
    background:rgba(15,23,42,0.95);
    width:200px;
    padding:15px;
    border-radius:0 0 0 8px;
    text-align:right;
    transition: right 0.3s ease;
    z-index:999;
  }
  .nav-links.active{right:0;} /* visible on toggle */
  .nav-links a{margin-bottom:12px;}
}

h1{text-align:center;color:#38bdf8;margin-bottom:30px;font-size:2.5rem;margin-top:80px;}

/* Keep the rest of your original CSS exactly the same */
.review-form, .login-form {
  background: rgba(255, 255, 255, 0.1);
  padding: 25px;
  border-radius: 12px;
  width: 90%;
  max-width: 500px;
  margin: 20px auto;
  box-shadow: 0 0 15px rgba(0, 234, 255, 0.3);
  text-align: center;
}

input, textarea, button {width: 100%;margin: 10px 0;padding: 12px;border: none;border-radius: 8px;font-size: 16px;box-sizing: border-box;}
input { background: rgba(255,255,255,0.1); color: white; outline: none; }
textarea { background: rgba(255,255,255,0.1); color: white; outline: none; resize: none; }
button { background: #38bdf8; color: #0f172a; font-weight: bold; cursor: pointer; transition: 0.3s; }
button:hover { background: #0ea5a4; transform: scale(1.03); }

.reviews {width: 90%; max-width: 600px; margin: 0 auto;}
.review-card {background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 10px; margin-bottom: 15px; box-shadow: 0 0 8px rgba(255,255,255,0.1); position: relative; text-align: left;}
.review-card h3 { margin:0;color:#38bdf8; display:flex; align-items:center; gap:6px; font-size:16px;}
.review-card p { margin-top:5px;font-size:15px;color:#ddd; }
.delete-btn { position:absolute; top:10px; right:10px; background:red; border:none; color:white; font-size:12px; padding:5px 8px; border-radius:4px; cursor:pointer; transition:0.3s; }
.delete-btn:hover{ background: darkred; }
.logout-btn {margin-top:10px; background: #38bdf8; display:block; margin-left:auto; margin-right:auto;}
.review-user {display:flex; align-items:center; gap:10px;}
.review-user img {width:45px; height:45px; border-radius:50%; object-fit:cover;}
.review-user h3, .review-user small {margin:0;}
.review-user div {display:flex; flex-direction:column;}

/* Facebook-style verified badge with tooltip & arrow */
.admin-badge {
  width:16px;
  height:16px;
  background:#1877F2;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  flex-shrink:0;
  cursor:pointer;
}
.admin-badge::after { content:'\2713'; color:white; font-size:10px; font-weight:bold; }
.admin-badge::before { content:""; opacity:0; transition:0.3s; position: absolute; }
.admin-badge:hover::before { content: "Verified Account"; opacity:1; position: absolute; bottom: 125%; left: 50%; transform: translateX(-50%); background: #333; color: #fff; padding: 2px 6px; font-size:10px; border-radius:4px; white-space: nowrap; z-index:100; }
.admin-badge:hover::after { color:white; }
.admin-badge span { position: absolute; width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid #333; bottom: -5px; left: 50%; transform: translateX(-50%); display:none; }
.admin-badge:hover span { display:block; }

</style>
</head>
<body>

<nav>
  <div class="logo">
    <img src="edu-sports-it.png" alt="Logo">
    <span>EDU SPORTS IT</span>
  </div>
  <button class="menu-btn" id="menuBtn">&#9776;</button>
  <div class="nav-links" id="navLinks">
    <a href='/'>Home</a>
    <a href='/courses'>Courses</a>
    <a href='/about'>About</a>
    <a href='/chat'>World Chat</a>
    <a href='/help'>Help Center</a>
    <a href='/review'>Reviews</a>
    <a href='/login'>Login</a>
    <a href='/signup'>Sign-Up</a>
    <a href='/profile'>Profile</a>
  </div>
</nav>

<h1>EDU SPORTS IT — Community Reviews</h1>

<div class="login-form" id="loginForm">
  <h3>Admin Login</h3>
  <input type="email" id="adminEmail" placeholder="Admin Email">
  <input type="password" id="adminPass" placeholder="Password">
  <button onclick="adminLogin()">Login</button>
</div>

<div class="review-form" id="reviewForm">
  <p id="reviewUserName" style="margin-bottom:10px;font-weight:bold;"></p>
  <textarea id="review" rows="4" placeholder="Write your review..."></textarea>
  <button onclick="submitReview()">Submit Review</button>
</div>

<button class="logout-btn" id="logoutBtn" style="display:none;" onclick="adminLogout()">Logout</button>

<div class="reviews" id="reviews"></div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

<script>
const menuBtn=document.getElementById('menuBtn');
const navLinks=document.getElementById('navLinks');
menuBtn.addEventListener('click',()=>navLinks.classList.toggle('active'));

const firebaseConfig = {
  apiKey: "AIzaSyDR5yywOyYjCSnfTyLTcMUIz-hG80jZXU4",
  authDomain: "edu-sports-it.firebaseapp.com",
  databaseURL: "https://edu-sports-it-default-rtdb.firebaseio.com/",
  projectId: "edu-sports-it",
  storageBucket: "edu-sports-it.appspot.com",
  messagingSenderId: "1234567890",
  appId: "1:1234567890:web:abcdefg"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const auth = firebase.auth();
let isAdmin = false;

// Verified users mapping
const verifiedUsers = {
  "rushnankhan02@gmail.com": { name: "Rushnan Khan — ADMIN", photo: "rushnan.jpg" },
  "contact@mubarrat.com": { name: "Mubarrat — VERIFIED", photo: "profile.svg" },
  "msaadman56@proton.me": { name: "Saadman — VERIFIED", photo: "saadu.jpg" }
};

// Admin login emails
const adminEmails = ["rushnankhan02@gmail.com"];

function adminLogin() {
  const email = document.getElementById("adminEmail").value;
  const pass = document.getElementById("adminPass").value;
  if(!adminEmails.includes(email)){ alert("You are not allowed to login as admin!"); return; }

  auth.signInWithEmailAndPassword(email, pass)
    .then(()=> {
      isAdmin=true;
      alert("Admin logged in!");
      document.getElementById("loginForm").style.display="none";
      document.getElementById("logoutBtn").style.display="block";
      loadReviews();
    })
    .catch(err=>alert("Login failed: "+err.message));
}

function adminLogout(){
  auth.signOut();
  isAdmin=false;
  document.getElementById("loginForm").style.display="block";
  document.getElementById("logoutBtn").style.display="none";
  document.getElementById("reviewUserName").innerText="";
  loadReviews();
}

auth.onAuthStateChanged(user=>{
  if(user){
    document.getElementById("reviewUserName").innerText="You are logged in as: "+(user.displayName || "Anonymous");
  }else{
    document.getElementById("reviewUserName").innerText="";
  }
});

function submitReview() {
  const user = auth.currentUser;
  if(!user){ alert("Please login first to submit a review!"); return; }

  const reviewText = document.getElementById('review').value.trim();
  if(!reviewText){ alert("Please write something!"); return; }

  const userEmail = user.email;
  const isVerified = verifiedUsers.hasOwnProperty(userEmail);

  const reviewData = {
    name: isVerified ? verifiedUsers[userEmail].name : (user.displayName || "Anonymous"),
    photo: isVerified ? verifiedUsers[userEmail].photo || "https://cdn-icons-png.flaticon.com/512/3135/3135715.png" : (user.photoURL || "https://cdn-icons-png.flaticon.com/512/3135/3135715.png"),
    review: reviewText,
    time: new Date().toLocaleString()
  };

  db.ref("reviews").push(reviewData);
  document.getElementById('review').value="";
}

function loadReviews(){
  const reviewDiv=document.getElementById('reviews');
  db.ref("reviews").on("value", snapshot=>{
    reviewDiv.innerHTML="";
    snapshot.forEach(child=>{
      const data=child.val();
      const id=child.key;
      const div=document.createElement("div");
      div.classList.add("review-card");
      const isVerifiedReview = Object.values(verifiedUsers).some(v => v.name === data.name);
      div.innerHTML=`
        <div class="review-user">
          <img src="${data.photo}" alt="user">
          <div>
            <h3>
              ${data.name} 
              ${isVerifiedReview ? `<span class="admin-badge"><span></span></span>` : ""}
            </h3>
            <small>${data.time}</small>
          </div>
        </div>
        <p>${data.review}</p>
        ${isAdmin?`<button class="delete-btn" onclick="deleteReview('${id}')">Delete</button>`:""}
      `;
      reviewDiv.prepend(div);
    });
  });
}

function deleteReview(id){
  if(confirm("Are you sure you want to delete this review?")) db.ref("reviews/"+id).remove();
}

loadReviews();
</script>
</body>
</html>


